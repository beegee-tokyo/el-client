<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ELClient: ELClientSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ELClient
   </div>
   <div id="projectbrief">Arduino client for esp-link&#39;s REST, MQTT, and command interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classELClientSocket.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classELClientSocket-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ELClientSocket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeffa1121b835bb0dff3fb05b0b26a300"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#aeffa1121b835bb0dff3fb05b0b26a300">ELClientSocket</a> (<a class="el" href="classELClient.html">ELClient</a> *e)</td></tr>
<tr class="memdesc:aeffa1121b835bb0dff3fb05b0b26a300"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classELClientSocket.html#aeffa1121b835bb0dff3fb05b0b26a300" title="ELClientSocket(ELClient *e) ">ELClientSocket(ELClient *e)</a>  <a href="#aeffa1121b835bb0dff3fb05b0b26a300">More...</a><br /></td></tr>
<tr class="separator:aeffa1121b835bb0dff3fb05b0b26a300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8381fbc4660741b557df986675c1012"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#ac8381fbc4660741b557df986675c1012">begin</a> (const char *host, uint16_t port, uint8_t sock_mode, void(*userCb)(uint8_t resp_type, uint8_t client_num, uint16_t len, char *data)=0)</td></tr>
<tr class="memdesc:ac8381fbc4660741b557df986675c1012"><td class="mdescLeft">&#160;</td><td class="mdescRight">begin(const char* host, uint16_t port, uint8_t sock_mode, void (*userCb)(uint8_t resp_type, uint8_t client_num, uint16_t len, char *data))  <a href="#ac8381fbc4660741b557df986675c1012">More...</a><br /></td></tr>
<tr class="separator:ac8381fbc4660741b557df986675c1012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b22ac7beff2ead900161b43e484090a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a2b22ac7beff2ead900161b43e484090a">send</a> (const char *data)</td></tr>
<tr class="memdesc:a2b22ac7beff2ead900161b43e484090a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classELClientSocket.html#a2b22ac7beff2ead900161b43e484090a" title="send(const char* data) ">send(const char* data)</a>  <a href="#a2b22ac7beff2ead900161b43e484090a">More...</a><br /></td></tr>
<tr class="separator:a2b22ac7beff2ead900161b43e484090a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead6469c7a8473daf08c222ffb8fccf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#aead6469c7a8473daf08c222ffb8fccf8">send</a> (const char *data, int len)</td></tr>
<tr class="memdesc:aead6469c7a8473daf08c222ffb8fccf8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classELClientSocket.html#aead6469c7a8473daf08c222ffb8fccf8" title="send(const char* data, int len) ">send(const char* data, int len)</a>  <a href="#aead6469c7a8473daf08c222ffb8fccf8">More...</a><br /></td></tr>
<tr class="separator:aead6469c7a8473daf08c222ffb8fccf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07087d4d7a98e6eea1aed4e2bc8bcf81"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a07087d4d7a98e6eea1aed4e2bc8bcf81">getResponse</a> (uint8_t *resp_type, uint8_t *client_num, char *data, uint16_t maxLen)</td></tr>
<tr class="memdesc:a07087d4d7a98e6eea1aed4e2bc8bcf81"><td class="mdescLeft">&#160;</td><td class="mdescRight">getResponse(uint8_t <em>resp_type, uint8_t *client_num, char</em> data, uint16_t maxLen)  <a href="#a07087d4d7a98e6eea1aed4e2bc8bcf81">More...</a><br /></td></tr>
<tr class="separator:a07087d4d7a98e6eea1aed4e2bc8bcf81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66629c98e586c73f5f2eee2b14a963dd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a66629c98e586c73f5f2eee2b14a963dd">waitResponse</a> (uint8_t *resp_type, uint8_t *client_num, char *data, uint16_t maxLen, uint32_t timeout=<a class="el" href="ELClientSocket_8h.html#a407d3f5171e51664312ce3656931a90b">DEFAULT_SOCKET_TIMEOUT</a>)</td></tr>
<tr class="memdesc:a66629c98e586c73f5f2eee2b14a963dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">waitResponse(uint8_t <em>resp_type, uint8_t *client_num, char</em> data, uint16_t maxLen, uint32_t timeout)  <a href="#a66629c98e586c73f5f2eee2b14a963dd">More...</a><br /></td></tr>
<tr class="separator:a66629c98e586c73f5f2eee2b14a963dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5e5f2394fec2e4f3104b9153cf7ffbeb"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a5e5f2394fec2e4f3104b9153cf7ffbeb">remote_instance</a></td></tr>
<tr class="memdesc:a5e5f2394fec2e4f3104b9153cf7ffbeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection number, value can be 0 to 3.  <a href="#a5e5f2394fec2e4f3104b9153cf7ffbeb">More...</a><br /></td></tr>
<tr class="separator:a5e5f2394fec2e4f3104b9153cf7ffbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:afb6e20cf946e8ec84ce54ba380d9aa6c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#afb6e20cf946e8ec84ce54ba380d9aa6c">_userCallback</a>) (uint8_t resp_type, uint8_t client_num, uint16_t len, char *data)</td></tr>
<tr class="memdesc:afb6e20cf946e8ec84ce54ba380d9aa6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">void (* _userCallback)(uint8_t resp_type, uint8_t client_num, uint16_t len, char *data)  <a href="#afb6e20cf946e8ec84ce54ba380d9aa6c">More...</a><br /></td></tr>
<tr class="separator:afb6e20cf946e8ec84ce54ba380d9aa6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a65258f51b5e06e97617b021ba941539f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a65258f51b5e06e97617b021ba941539f">socketCallback</a> (void *resp)</td></tr>
<tr class="memdesc:a65258f51b5e06e97617b021ba941539f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classELClientSocket.html#a65258f51b5e06e97617b021ba941539f" title="socketCallback(void *res) ">socketCallback(void *res)</a>  <a href="#a65258f51b5e06e97617b021ba941539f">More...</a><br /></td></tr>
<tr class="separator:a65258f51b5e06e97617b021ba941539f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae43da79254a42f9cd2712dda539a072c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classELClient.html">ELClient</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#ae43da79254a42f9cd2712dda539a072c">_elc</a></td></tr>
<tr class="memdesc:ae43da79254a42f9cd2712dda539a072c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classELClient.html">ELClient</a> instance.  <a href="#ae43da79254a42f9cd2712dda539a072c">More...</a><br /></td></tr>
<tr class="separator:ae43da79254a42f9cd2712dda539a072c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2777c6d5312f6d6f5a21c3cefc3a7421"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFP.html">FP</a>&lt; void, void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a2777c6d5312f6d6f5a21c3cefc3a7421">socketCb</a></td></tr>
<tr class="memdesc:a2777c6d5312f6d6f5a21c3cefc3a7421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to external callback function.  <a href="#a2777c6d5312f6d6f5a21c3cefc3a7421">More...</a><br /></td></tr>
<tr class="separator:a2777c6d5312f6d6f5a21c3cefc3a7421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf89ec7d0bdf7528e599f07c3e8a0e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classELClientSocket.html#afb6e20cf946e8ec84ce54ba380d9aa6c">_userCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a3bf89ec7d0bdf7528e599f07c3e8a0e5">_userCb</a></td></tr>
<tr class="memdesc:a3bf89ec7d0bdf7528e599f07c3e8a0e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to internal callback function.  <a href="#a3bf89ec7d0bdf7528e599f07c3e8a0e5">More...</a><br /></td></tr>
<tr class="separator:a3bf89ec7d0bdf7528e599f07c3e8a0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b75af59a53251664cf17631a026f3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a15b75af59a53251664cf17631a026f3c">_hasUserCb</a> = false</td></tr>
<tr class="memdesc:a15b75af59a53251664cf17631a026f3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for user callback, true if user callback has been set.  <a href="#a15b75af59a53251664cf17631a026f3c">More...</a><br /></td></tr>
<tr class="separator:a15b75af59a53251664cf17631a026f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610be726e8245546aaca6d4017be0d68"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a610be726e8245546aaca6d4017be0d68">_status</a></td></tr>
<tr class="memdesc:a610be726e8245546aaca6d4017be0d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection status.  <a href="#a610be726e8245546aaca6d4017be0d68">More...</a><br /></td></tr>
<tr class="separator:a610be726e8245546aaca6d4017be0d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0ea4aaf72ecde4650d5c23c1765bb2"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a9f0ea4aaf72ecde4650d5c23c1765bb2">_len</a></td></tr>
<tr class="memdesc:a9f0ea4aaf72ecde4650d5c23c1765bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of sent/received bytes.  <a href="#a9f0ea4aaf72ecde4650d5c23c1765bb2">More...</a><br /></td></tr>
<tr class="separator:a9f0ea4aaf72ecde4650d5c23c1765bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff291d7230decb0ef743041aa8cd6b0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a8ff291d7230decb0ef743041aa8cd6b0">_data</a></td></tr>
<tr class="memdesc:a8ff291d7230decb0ef743041aa8cd6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for received data.  <a href="#a8ff291d7230decb0ef743041aa8cd6b0">More...</a><br /></td></tr>
<tr class="separator:a8ff291d7230decb0ef743041aa8cd6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dba35f4f1ecfce1757978017d3a12e3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a4dba35f4f1ecfce1757978017d3a12e3">_resp_type</a></td></tr>
<tr class="memdesc:a4dba35f4f1ecfce1757978017d3a12e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response type: 0 = send, 1 = receive; 2 = reset connection, 3 = connection.  <a href="#a4dba35f4f1ecfce1757978017d3a12e3">More...</a><br /></td></tr>
<tr class="separator:a4dba35f4f1ecfce1757978017d3a12e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eeec39c08576097bbe2bb97f947eaba"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classELClientSocket.html#a0eeec39c08576097bbe2bb97f947eaba">_client_num</a></td></tr>
<tr class="memdesc:a0eeec39c08576097bbe2bb97f947eaba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection number, value can be 0 to 3.  <a href="#a0eeec39c08576097bbe2bb97f947eaba">More...</a><br /></td></tr>
<tr class="separator:a0eeec39c08576097bbe2bb97f947eaba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00040">40</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="afb6e20cf946e8ec84ce54ba380d9aa6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb6e20cf946e8ec84ce54ba380d9aa6c">&sect;&nbsp;</a></span>_userCallback</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*  ELClientSocket::_userCallback) (uint8_t resp_type, uint8_t client_num, uint16_t len, char *data)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>void (* _userCallback)(uint8_t resp_type, uint8_t client_num, uint16_t len, char *data) </p>
<p>Callback function when data is sent or received</p>
<p>This function is called by <a class="el" href="classELClient.html">ELClient</a> library when a packet was sent, a packet was received or an error occured The function is user specific and therefor included in the program code, not in the library This function does not block the Arduino code execution </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resp_type</td><td>Response type. Is USERCB_SENT if packet was sent, USERCB_RECV if a packet was received, USERCB_RECO if a connection error occured or USERCB_CONN on a connect or disconnect event </td></tr>
    <tr><td class="paramname">client_num</td><td>Connection number. Can be used to distinguish between different UDP clients. </td></tr>
    <tr><td class="paramname">len</td><td>Size of received packet or number of sent bytes. </td></tr>
    <tr><td class="paramname">data</td><td>Buffer with the received packet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function is user specific and therefor included in the program code, not in the library </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classELClientSocket.html#a2777c6d5312f6d6f5a21c3cefc3a7421">socketCb</a>(uint8_t resp_type, uint8_t client_num, uint16_t len, <span class="keywordtype">char</span> *data)</div><div class="line">{</div><div class="line">    Serial.println(<span class="stringliteral">&quot;socketCb connection #&quot;</span>+String(client_num));</div><div class="line">    <span class="keywordflow">if</span> (resp_type == <a class="code" href="ELClientSocket_8h.html#a6b188be05b758567c3d9204a4eb101c9">USERCB_SENT</a>)</div><div class="line">    {</div><div class="line">        Serial.println(<span class="stringliteral">&quot;\tSent &quot;</span> + String(len) + <span class="stringliteral">&quot; bytes over client#&quot;</span> + String(client_num));</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resp_type == <a class="code" href="ELClientSocket_8h.html#a0b64ce17caa89fa7c3d91c536c29f632">USERCB_RECV</a>)</div><div class="line">    {</div><div class="line">        <span class="keywordtype">char</span> recvData[len+1]; <span class="comment">// Prepare buffer for the received data</span></div><div class="line">        memcpy(recvData, data, len); <span class="comment">// Copy received data into the buffer</span></div><div class="line">        recvData[len] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">// Terminate the buffer with 0 for proper printout!</span></div><div class="line">        Serial.println(<span class="stringliteral">&quot;\tReceived &quot;</span> + String(len) + <span class="stringliteral">&quot; bytes over the server on connection #&quot;</span> + String(client_num));</div><div class="line">        Serial.println(<span class="stringliteral">&quot;\tReceived: &quot;</span> + String(recvData));</div><div class="line">        <span class="keywordtype">char</span> respData[len+11]; <span class="comment">// Prepare buffer for the response data</span></div><div class="line">        <span class="keywordtype">char</span> *respHdr = <span class="stringliteral">&quot;Received: &quot;</span>;</div><div class="line">        memcpy (respData, respHdr, 10);</div><div class="line">        memcpy(&amp;respData[10], recvData, len); <span class="comment">// Copy received data into the buffer</span></div><div class="line">        respData[len+10] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line">        Serial.println(<span class="stringliteral">&quot;\tSend response: &quot;</span> + String(respData));</div><div class="line">        socket.send(respData);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resp_type == <a class="code" href="ELClientSocket_8h.html#a924b75ac7ccdd9f44df6f41842c6e6b7">USERCB_RECO</a>)</div><div class="line">    {</div><div class="line">        Serial.println(<span class="stringliteral">&quot;Connection problem: &quot;</span>+String(len));</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resp_type == <a class="code" href="ELClientSocket_8h.html#aae7c39f2e8e2a2bcf9439855f4dc87bc">USERCB_CONN</a>)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (len == 0)</div><div class="line">        {</div><div class="line">            Serial.println(<span class="stringliteral">&quot;\tDisconnected&quot;</span>);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            Serial.println(<span class="stringliteral">&quot;\tConnected&quot;</span>);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        Serial.println(<span class="stringliteral">&quot;Received invalid response type&quot;</span>);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00139">139</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeffa1121b835bb0dff3fb05b0b26a300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffa1121b835bb0dff3fb05b0b26a300">&sect;&nbsp;</a></span>ELClientSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ELClientSocket::ELClientSocket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classELClient.html">ELClient</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classELClientSocket.html#aeffa1121b835bb0dff3fb05b0b26a300" title="ELClientSocket(ELClient *e) ">ELClientSocket(ELClient *e)</a> </p>
<p>Class to send/receive data</p>
<p>The <a class="el" href="classELClientSocket.html">ELClientSocket</a> class sends data over a Socket to a remote server or acts as a TCP socket server. Each instance is used to communicate with one server and multiple instances can be created to send to multiple servers. The <a class="el" href="classELClientSocket.html">ELClientSocket</a> class does not support concurrent requests to the same server because only a single response can be recevied at a time and the responses of the two requests may arrive out of order. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>Pointer to <a class="el" href="classELClient.html">ELClient</a>. Check <a class="el" href="classELClient.html">ELClient</a> API documentation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code" href="classELClientSocket.html">ELClientSocket</a> socket(&amp;esp);</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8cpp_source.html#l00024">24</a> of file <a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8381fbc4660741b557df986675c1012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8381fbc4660741b557df986675c1012">&sect;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ELClientSocket::begin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sock_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(uint8_t resp_type, uint8_t client_num, uint16_t len, char *data)&#160;</td>
          <td class="paramname"><em>userCb</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>begin(const char* host, uint16_t port, uint8_t sock_mode, void (*userCb)(uint8_t resp_type, uint8_t client_num, uint16_t len, char *data)) </p>
<p>Initialize communication to a remote server</p>
<p>Initialize communication to a remote server, this communicates with esp-link but does not open a connection to the remote server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>Host to be connected. Can be a URL or an IP address in the format of xxx.xxx.xxx.xxx . </td></tr>
    <tr><td class="paramname">port</td><td>Port to be used to send/receive packets. Port MUST NOT be 80, 23 or 2323, as these ports are already used by EL-CLIENT on the ESP8266 </td></tr>
    <tr><td class="paramname">sock_mode</td><td>Set socket mode to SOCKET_TCP_CLIENT, SOCKET_TCP_CLIENT_LISTEN, SOCKET_TCP_SERVER or SOCKET_UDP </td></tr>
    <tr><td class="paramname">(*userCb)(uint8_t</td><td>resp_type, uint8_t client_num, uint16_t len, char *data) (optional) Pointer to callback function that is called if data after data has been sent, received or if an error occured </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Port MUST NOT be 80, 23 or 2323, as these ports are already used by EL-CLIENT on the ESP8266. Max 4 connections are supported! </dd></dl>
<dl class="section user"><dt>Example1</dt><dd><div class="fragment"><div class="line"><span class="comment">// Setup a simple client to send data and disconnect after data was sent</span></div><div class="line">socketConnNum = socket.begin(socketServer, socketPort, <a class="code" href="ELClientSocket_8h.html#a2d8e6e9008b53882944cff06ea87cff9">SOCKET_TCP_CLIENT</a>, <a class="code" href="classELClientSocket.html#a2777c6d5312f6d6f5a21c3cefc3a7421">socketCb</a>);</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example2</dt><dd><div class="fragment"><div class="line"><span class="comment">// Setup a client to send data and wait for response from remote server</span></div><div class="line">socketConnNum = socket.begin(socketServer, socketPort, <a class="code" href="ELClientSocket_8h.html#a84bb01396ed2119c249409f50f9aedec">SOCKET_TCP_CLIENT_LISTEN</a>, <a class="code" href="classELClientSocket.html#a2777c6d5312f6d6f5a21c3cefc3a7421">socketCb</a>);</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example3</dt><dd><div class="fragment"><div class="line"><span class="comment">// Setup a TCP server and wait for a client to connect</span></div><div class="line">socketConnNum = socket.begin(socketServer, socketPort, <a class="code" href="ELClientSocket_8h.html#a218352369adea3fa31d23465c58351b8">SOCKET_TCP_SERVER</a>, <a class="code" href="classELClientSocket.html#a2777c6d5312f6d6f5a21c3cefc3a7421">socketCb</a>);</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example3</dt><dd><div class="fragment"><div class="line"><span class="comment">// Setup a TCP server and wait for a client to connect</span></div><div class="line">socketConnNum = socket.begin(socketServer, socketPort, <a class="code" href="ELClientSocket_8h.html#a65e08d8b4929940e5c01735eb47295a0">SOCKET_UDP</a>, <a class="code" href="classELClientSocket.html#a2777c6d5312f6d6f5a21c3cefc3a7421">socketCb</a>);</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8cpp_source.html#l00121">121</a> of file <a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a>.</p>

</div>
</div>
<a id="a07087d4d7a98e6eea1aed4e2bc8bcf81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07087d4d7a98e6eea1aed4e2bc8bcf81">&sect;&nbsp;</a></span>getResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ELClientSocket::getResponse </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>resp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>client_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>maxLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getResponse(uint8_t <em>resp_type, uint8_t *client_num, char</em> data, uint16_t maxLen) </p>
<p>Retrieve response.</p>
<p>Check if a response from the remote server was received, returns the number of send or received bytes, 0 if no response (may need to wait longer) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resp_type</td><td>Pointer to response type. Is USERCB_SENT if packet was sent or USERCB_RECV if a packet was received. </td></tr>
    <tr><td class="paramname">client_num</td><td>Pointer to connection number. Can be used to distinguish between different socket clients. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to buffer for received packet </td></tr>
    <tr><td class="paramname">maxLen</td><td>Size of buffer for received packet. If the received packet is larger than the buffer, the received packet will be truncated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>uint16_t</code> Size of received packet or number of sent bytes or 0 if no response </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#define BUFLEN 266</span></div><div class="line"><span class="keywordtype">void</span> loop() </div><div class="line">{</div><div class="line">    <span class="comment">// process any callbacks coming from esp_link</span></div><div class="line">    esp.Process();</div><div class="line">    <span class="comment">// Check if we received a packet or if the last send request has finished</span></div><div class="line">    <span class="keywordtype">char</span> response[BUFLEN];</div><div class="line">    memset(response, 0, BUFLEN);</div><div class="line">    uint8_t resp_type;</div><div class="line">    uint8_t client_num;</div><div class="line">    uint16_t len = socket.getResponse(&amp;resp_type, &amp;client_num, response, BUFLEN);</div><div class="line">    <span class="keywordflow">if</span> (len != 0)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (resp_type == <a class="code" href="ELClientSocket_8h.html#a6b188be05b758567c3d9204a4eb101c9">USERCB_SENT</a>)</div><div class="line">        {</div><div class="line">            Serial.println(<span class="stringliteral">&quot;Sent &quot;</span>+String(len)+<span class="stringliteral">&quot; bytes&quot;</span>);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            Serial.print(<span class="stringliteral">&quot;Received packet: &quot;</span>);</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;len; i++)</div><div class="line">            {</div><div class="line">                Serial.print(response[i]);</div><div class="line">            }</div><div class="line">            Serial.println(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8cpp_source.html#l00236">236</a> of file <a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a>.</p>

</div>
</div>
<a id="a2b22ac7beff2ead900161b43e484090a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b22ac7beff2ead900161b43e484090a">&sect;&nbsp;</a></span>send() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ELClientSocket::send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classELClientSocket.html#a2b22ac7beff2ead900161b43e484090a" title="send(const char* data) ">send(const char* data)</a> </p>
<p>Send null-terminated data to the remote server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to SOCKET packet, must be null-terminated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">Serial.println(<span class="stringliteral">&quot;Sending text message to SOCKET server&quot;</span>);</div><div class="line">socket.send(<span class="stringliteral">&quot;Message from your Arduino Uno WiFi over TCP socket&quot;</span>);</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8cpp_source.html#l00184">184</a> of file <a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a>.</p>

</div>
</div>
<a id="aead6469c7a8473daf08c222ffb8fccf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aead6469c7a8473daf08c222ffb8fccf8">&sect;&nbsp;</a></span>send() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ELClientSocket::send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classELClientSocket.html#aead6469c7a8473daf08c222ffb8fccf8" title="send(const char* data, int len) ">send(const char* data, int len)</a> </p>
<p>Send data to the remote server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to SOCKET packet </td></tr>
    <tr><td class="paramname">len</td><td>Length of SOCKET packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">Serial.println(<span class="stringliteral">&quot;Sending JSON array to SOCKET server&quot;</span>);</div><div class="line"><span class="keywordtype">char</span> socketPacket = <span class="stringliteral">&quot;{&quot;</span>device<span class="stringliteral">&quot;:&quot;</span>spm<span class="stringliteral">&quot;,&quot;</span>s<span class="stringliteral">&quot;:622.02,&quot;</span>c<span class="stringliteral">&quot;:-165.86}&quot;</span></div><div class="line">socket.send(socketPacket, 39);</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8cpp_source.html#l00160">160</a> of file <a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a>.</p>

</div>
</div>
<a id="a65258f51b5e06e97617b021ba941539f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65258f51b5e06e97617b021ba941539f">&sect;&nbsp;</a></span>socketCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ELClientSocket::socketCallback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classELClientSocket.html#a65258f51b5e06e97617b021ba941539f" title="socketCallback(void *res) ">socketCallback(void *res)</a> </p>
<p>Callback function when data is sent, received or an error occured.</p>
<p>The function is called when data is sent or received from the remote server. If a user callback function (userCb) was defined it is called and the response is sent as an argument. </p><dl class="section note"><dt>Note</dt><dd>Internal library function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>Pointer to <a class="el" href="classELClientResponse.html">ELClientResponse</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The content of the response structure is overwritten when the next package arrives! </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8cpp_source.html#l00039">39</a> of file <a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a>.</p>

</div>
</div>
<a id="a66629c98e586c73f5f2eee2b14a963dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66629c98e586c73f5f2eee2b14a963dd">&sect;&nbsp;</a></span>waitResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ELClientSocket::waitResponse </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>resp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>client_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>maxLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code><a class="el" href="ELClientSocket_8h.html#a407d3f5171e51664312ce3656931a90b">DEFAULT_SOCKET_TIMEOUT</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>waitResponse(uint8_t <em>resp_type, uint8_t *client_num, char</em> data, uint16_t maxLen, uint32_t timeout) </p>
<p>Wait for the response</p>
<p>Checks if a response from the remote server has arrived for <code>timeout</code> seconds, returns the number of send or received bytes, 0 if no response (may need to wait longer) </p><dl class="section warning"><dt>Warning</dt><dd>Blocks the Arduino code for 5 seconds! not recommended to use. Use callback function instead! Received packet is NOT null-terminated </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resp_type</td><td>Pointer to response type. Is USERCB_SENT if packet was sent or USERCB_RECV if a packet was received. </td></tr>
    <tr><td class="paramname">client_num</td><td>Pointer to connection number. Can be used to distinguish between different socket clients. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to buffer for received packet </td></tr>
    <tr><td class="paramname">maxLen</td><td>Size of buffer for received packet. If the received packet is larger than the buffer, the received packet will be truncated. </td></tr>
    <tr><td class="paramname">timeout</td><td>(optional) Timout in milli seconds to wait for a response, defaults to 5000ms </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>uint16_t</code> Size of received packet or number of sent bytes or 0 if no response </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#define BUFLEN 266</span></div><div class="line"><span class="keywordtype">bool</span> haveRemoteResponse = <span class="keyword">true</span>;</div><div class="line"><span class="keywordtype">void</span> loop() </div><div class="line">{</div><div class="line">    <span class="comment">// process any callbacks coming from esp_link</span></div><div class="line">    esp.Process();</div><div class="line">    <span class="keywordflow">if</span> (haveRemoteResponse) <span class="comment">// If last packet was sent, send a new one</span></div><div class="line">    {</div><div class="line">        Serial.println(<span class="stringliteral">&quot;Sending JSON array to TCP server&quot;</span>);</div><div class="line">        <span class="keywordtype">char</span> socketPacket = <span class="stringliteral">&quot;{&quot;</span>device<span class="stringliteral">&quot;:&quot;</span>spm<span class="stringliteral">&quot;,&quot;</span>s<span class="stringliteral">&quot;:622.02,&quot;</span>c<span class="stringliteral">&quot;:-165.86}&quot;</span></div><div class="line">        socket.send(socketPacket, 39);</div><div class="line">        haveRemoteResponse = <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line">    <span class="comment">// Check if we received a packet or if the last send request has finished</span></div><div class="line">    <span class="keywordtype">char</span> response[BUFLEN];</div><div class="line">    memset(response, 0, BUFLEN);</div><div class="line">    uint8_t resp_type;</div><div class="line">    uint8_t client_num;</div><div class="line">    uint16_t len = socket.waitResponse(&amp;resp_type, &amp;client_num, response, BUFLEN);</div><div class="line">    <span class="keywordflow">if</span> (len != 0)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (resp_type == <a class="code" href="ELClientSocket_8h.html#a6b188be05b758567c3d9204a4eb101c9">USERCB_SENT</a>)</div><div class="line">        {</div><div class="line">            Serial.println(<span class="stringliteral">&quot;Sent &quot;</span>+String(len)+<span class="stringliteral">&quot; bytes&quot;</span>);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            Serial.print(<span class="stringliteral">&quot;Received packet: &quot;</span>);</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;len; i++)</div><div class="line">            {</div><div class="line">                Serial.print(response[i]);</div><div class="line">            }</div><div class="line">            Serial.println(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line">            haveRemoteResponse = <span class="keyword">true</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ELClientSocket_8cpp_source.html#l00306">306</a> of file <a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0eeec39c08576097bbe2bb97f947eaba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eeec39c08576097bbe2bb97f947eaba">&sect;&nbsp;</a></span>_client_num</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ELClientSocket::_client_num</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection number, value can be 0 to 3. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00147">147</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a8ff291d7230decb0ef743041aa8cd6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff291d7230decb0ef743041aa8cd6b0">&sect;&nbsp;</a></span>_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* ELClientSocket::_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer for received data. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00145">145</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="ae43da79254a42f9cd2712dda539a072c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae43da79254a42f9cd2712dda539a072c">&sect;&nbsp;</a></span>_elc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classELClient.html">ELClient</a>* ELClientSocket::_elc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classELClient.html">ELClient</a> instance. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00074">74</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a15b75af59a53251664cf17631a026f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b75af59a53251664cf17631a026f3c">&sect;&nbsp;</a></span>_hasUserCb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ELClientSocket::_hasUserCb = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag for user callback, true if user callback has been set. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00142">142</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a9f0ea4aaf72ecde4650d5c23c1765bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f0ea4aaf72ecde4650d5c23c1765bb2">&sect;&nbsp;</a></span>_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ELClientSocket::_len</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of sent/received bytes. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00144">144</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a4dba35f4f1ecfce1757978017d3a12e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dba35f4f1ecfce1757978017d3a12e3">&sect;&nbsp;</a></span>_resp_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ELClientSocket::_resp_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Response type: 0 = send, 1 = receive; 2 = reset connection, 3 = connection. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00146">146</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a610be726e8245546aaca6d4017be0d68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a610be726e8245546aaca6d4017be0d68">&sect;&nbsp;</a></span>_status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ELClientSocket::_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection status. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00143">143</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a3bf89ec7d0bdf7528e599f07c3e8a0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf89ec7d0bdf7528e599f07c3e8a0e5">&sect;&nbsp;</a></span>_userCb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classELClientSocket.html#afb6e20cf946e8ec84ce54ba380d9aa6c">_userCallback</a> ELClientSocket::_userCb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to internal callback function. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00140">140</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a5e5f2394fec2e4f3104b9153cf7ffbeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e5f2394fec2e4f3104b9153cf7ffbeb">&sect;&nbsp;</a></span>remote_instance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ELClientSocket::remote_instance</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection number, value can be 0 to 3. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00071">71</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<a id="a2777c6d5312f6d6f5a21c3cefc3a7421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2777c6d5312f6d6f5a21c3cefc3a7421">&sect;&nbsp;</a></span>socketCb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFP.html">FP</a>&lt;void, void*&gt; ELClientSocket::socketCb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to external callback function. </p>

<p>Definition at line <a class="el" href="ELClientSocket_8h_source.html#l00076">76</a> of file <a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ELClient/<a class="el" href="ELClientSocket_8h_source.html">ELClientSocket.h</a></li>
<li>ELClient/<a class="el" href="ELClientSocket_8cpp_source.html">ELClientSocket.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classELClientSocket.html">ELClientSocket</a></li>
    <li class="footer">Generated on Wed Sep 28 2016 18:17:59 for ELClient by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
